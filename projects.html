<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bluefield.Design | Projects</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Moderustic:wght@400;700&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="Styles/Basic Style.css">
</head>

<body>
  <!-- Header -->
  <header>
    <div class="logo spaced-logo">BLUEFIELD DESIGN</div>
    <!-- Burger Icon -->
    <button class="burger" id="burger" aria-label="Menü öffnen" aria-expanded="false" aria-controls="nav">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Navigation -->
    <nav id="nav">
      <ul>
        <li><a href="index.html" data-link="/Bluefield.Design/">Home</a></li>
        <li><a href="projects.html" data-link="/Bluefield.Design/projects">Projects</a></li>
        <li><a href="about.html" data-link="/Bluefield.Design/about">About</a></li>
        <li><a href="contact.html" data-link="/Bluefield.Design/contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Footer -->
  <div id="footer"></div>
  <div class="footer-button-container">
    <a href="https://www.behance.net/gabrielneufeld1" target="_blank" rel="noopener">
      <button class="footer-button" style="background-image: url('https://mir-s3-cdn-cf.behance.net/project_modules/disp/119c3c209122293.66fca748b78ec.png');"></button>
    </a>
    <a href="https://www.youtube.com/" target="_blank" rel="noopener">
      <button class="footer-button" style="background-image: url('https://mir-s3-cdn-cf.behance.net/project_modules/disp/258ea8209122293.66fca748b749f.png');"></button>
    </a>
    <a href="https://www.instagram.com/" target="_blank" rel="noopener">
      <button class="footer-button" style="background-image: url('https://mir-s3-cdn-cf.behance.net/project_modules/disp/864ee7209122293.66fca748b6fa0.png');"></button>
    </a>
  </div>
  <div id="footer-text">© 2025 Gabriel Neufeld</div>
  <div class="transparency-block-top"></div>
  <div class="transparency-block-bottom"></div>

  <!-- Scripts -->
  <script>
    const burger = document.getElementById('burger');
    const nav = document.getElementById('nav');

    function setMenu(open) {
      burger.classList.toggle('open', open);
      nav.classList.toggle('open', open);
      burger.setAttribute('aria-expanded', open ? 'true' : 'false');
    }

    // Burger-Button Klick
    burger.addEventListener('click', () => {
      const willOpen = !burger.classList.contains('open');
      setMenu(willOpen);
    });

    // Menü schließen bei Linkklick (mobil)
    nav.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', () => {
        if (window.matchMedia('(max-width: 720px)').matches) {
          setMenu(false);
        }
      });
    });

    // Menü schließen bei Klick außerhalb
    document.addEventListener('click', (e) => {
      if (window.matchMedia('(max-width: 720px)').matches) {
        if (!nav.contains(e.target) && !burger.contains(e.target)) {
          setMenu(false);
        }
      }
    });

    // Aktiven Menüpunkt markieren
    document.addEventListener("DOMContentLoaded", () => {
      const currentPath = window.location.pathname.split("/").pop();
      const links = document.querySelectorAll("nav a");

      links.forEach(link => {
        const href = link.getAttribute("href");
        if (href === currentPath || (href === "projects.html" && currentPath === "")) {
          link.classList.add("active");
        }
      });
    });
    
  // URL und Links ohne .html darstellen
    document.addEventListener("DOMContentLoaded", () => {
      // 1. Saubere URL in Adressleiste anzeigen
      if (window.location.pathname.endsWith(".html")) {
        const cleanPath = window.location.pathname.replace(/projects\.html$/, "")
                                                 .replace(/\.html$/, "");
        window.history.replaceState({}, "", cleanPath);
      }

      // 2. Links im Menü anpassen
      document.querySelectorAll("nav a").forEach(link => {
        let href = link.getAttribute("href");
        if (href.endsWith(".html")) {
          href = href.replace(/projects\.html$/, "")
                     .replace(/\.html$/, "");
          link.setAttribute("href", href);
        }
      });

      // 3. Aktiven Menüpunkt markieren
      const currentPath = window.location.pathname.replace(/\/$/, "");
      document.querySelectorAll("nav a").forEach(link => {
        const href = link.getAttribute("href").replace(/\/$/, "");
        if (href === currentPath) {
          link.classList.add("active");
        }
      });
    });
  </script>

</body>
</html>