<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bluefield.Design | Projects</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Moderustic:wght@400;700&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="Styles/Basic Style.css">
  <link rel="stylesheet" href="Styles/Projects Style.css">
</head>

<body>
  <!-- Header -->
  <header>
    <div class="logo spaced-logo">BLUEFIELD DESIGN</div>
    <!-- Burger Icon -->
    <button class="burger" id="burger" aria-label="Menü öffnen" aria-expanded="false" aria-controls="nav">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Navigation -->
    <nav id="nav">
      <ul>
        <li><a href="index.html" data-link="/Bluefield.Design/">Home</a></li>
        <li><a href="projects.html" data-link="/Bluefield.Design/projects">Projects</a></li>
        <li><a href="about.html" data-link="/Bluefield.Design/about">About</a></li>
        <li><a href="contact.html" data-link="/Bluefield.Design/contact">Contact</a></li>
      </ul>
    </nav>
  </header>
  <div class="transparency-block-top"></div>

  <!-- Container mit 250px oben/unten und 10vw links/rechts -->
  <div class="page-container">
    <div class="button-grid" aria-label="Navigationsgrid">
      <!-- Jede "card" ist ein Link zu einer weiteren HTML-Seite.
           Ersetze href und src mit deinen Zielen und Bildern. -->
      <a class="card" href="seite1.html" aria-label="Seite 1 - Projekt 1">
        <img class="card__img" src="https://mir-cdn.behance.net/v1/rendition/project_modules/max_1200/be0818209122293.67d49af6d1fa4.png" alt="Projekt 1" />
        <div class="card__overlay">
          <h3 class="card__title">Projekt 1</h3>
        </div>
      </a>

      <a class="card" href="seite2.html" aria-label="Seite 2 - Projekt 2">
        <img class="card__img" src="https://mir-s3-cdn-cf.behance.net/project_modules/source/60c989209122293.67d498180c9b9.png" alt="Projekt 2" />
        <div class="card__overlay">
          <h3 class="card__title">Projekt 2</h3>
        </div>
      </a>

      <a class="card" href="seite3.html" aria-label="Seite 3 - Projekt 3">
        <img class="card__img" src="https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/50d23b209122293.67d489889326f.png" alt="Projekt 3" />
        <div class="card__overlay">
          <h3 class="card__title">Projekt 3</h3>
        </div>
      </a>

      <a class="card" href="seite4.html" aria-label="Seite 4 - Projekt 4">
        <img class="card__img" src="https://mir-cdn.behance.net/v1/rendition/project_modules/max_1200/cb6bae209122293.67d4a9f85519f.png" alt="Projekt 4" />
        <div class="card__overlay">
          <h3 class="card__title">Projekt 4</h3>
        </div>
      </a>

      <a class="card" href="seite5.html" aria-label="Seite 5 - Projekt 5">
        <img class="card__img" src="https://mir-cdn.behance.net/v1/rendition/project_modules/max_1200/0a46e1209122293.67d4a4bd02471.png" alt="Projekt 5" />
        <div class="card__overlay">
          <h3 class="card__title">Projekt 5</h3>
        </div>
      </a>

      <a class="card" href="seite6.html" aria-label="Seite 6 - Projekt 6">
        <img class="card__img" src="https://mir-cdn.behance.net/v1/rendition/project_modules/max_1200/d39cb8209122293.67d4a9f8558a5.png" alt="Projekt 6" />
        <div class="card__overlay">
          <h3 class="card__title">Projekt 6</h3>
        </div>
      </a>
    </div>
  </div>

  <!-- Footer -->
  <div id="footer"></div>
  <div class="footer-button-container">
    <a href="https://www.behance.net/gabrielneufeld1" target="_blank" rel="noopener">
      <button class="footer-button" style="background-image: url('https://mir-s3-cdn-cf.behance.net/project_modules/disp/119c3c209122293.66fca748b78ec.png');"></button>
    </a>
    <a href="https://www.youtube.com/" target="_blank" rel="noopener">
      <button class="footer-button" style="background-image: url('https://mir-s3-cdn-cf.behance.net/project_modules/disp/258ea8209122293.66fca748b749f.png');"></button>
    </a>
    <a href="https://www.instagram.com/" target="_blank" rel="noopener">
      <button class="footer-button" style="background-image: url('https://mir-s3-cdn-cf.behance.net/project_modules/disp/864ee7209122293.66fca748b6fa0.png');"></button>
    </a>
  </div>
  <div id="footer-text">© 2025 Gabriel Neufeld</div>
  <div class="transparency-block-bottom"></div>

  <!-- Scripts -->
  <script>
    const burger = document.getElementById('burger');
    const nav = document.getElementById('nav');

    function setMenu(open) {
      burger.classList.toggle('open', open);
      nav.classList.toggle('open', open);
      burger.setAttribute('aria-expanded', open ? 'true' : 'false');
    }

    // Burger-Button Klick
    burger.addEventListener('click', () => {
      const willOpen = !burger.classList.contains('open');
      setMenu(willOpen);
    });

    // Menü schließen bei Linkklick (mobil)
    nav.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', () => {
        if (window.matchMedia('(max-width: 720px)').matches) {
          setMenu(false);
        }
      });
    });

    // Menü schließen bei Klick außerhalb
    document.addEventListener('click', (e) => {
      if (window.matchMedia('(max-width: 720px)').matches) {
        if (!nav.contains(e.target) && !burger.contains(e.target)) {
          setMenu(false);
        }
      }
    });

    // Einziger DOMContentLoaded-Block: URL bereinigen, Links umschreiben, aktiven Menüpunkt setzen
    document.addEventListener("DOMContentLoaded", () => {
      // Helper zum Normalisieren von Pfaden
      const normalize = (path) => path
        .replace(/projects\.html$/i, "")
        .replace(/\.html$/i, "")
        .replace(/\/+$/,""); // Schluss-Slash entfernen

      // 1) Saubere URL in der Adressleiste anzeigen
      if (window.location.pathname.match(/\.html$/i)) {
        const cleanPath = normalize(window.location.pathname);
        // Für Home wieder den trailing slash dranhängen
        const finalPath = cleanPath === "" ? "/" : cleanPath;
        window.history.replaceState({}, "", finalPath);
      }

      // 2) Links im Menü auf saubere URLs setzen
      document.querySelectorAll("nav a").forEach(link => {
        // Bevorzugt data-link verwenden, sonst href bereinigen
        const target = link.dataset.link || link.getAttribute("href");
        let clean = normalize(target);
        // Home-Link als Slash
        if (clean === "") clean = "/";
        link.setAttribute("href", clean);
      });

      // 3) Aktiven Menüpunkt markieren - robust gegen .html, Slash und data-link
      const current = normalize(window.location.pathname);
      document.querySelectorAll("nav a").forEach(link => {
        const candidateRaw = link.dataset.link || link.getAttribute("href");
        const candidate = normalize(candidateRaw);
        if (candidate === current || (candidate === "" && current === "")) {
          link.classList.add("active");
        }
      });
    });
  </script>

</body>
</html>